(()=>{"use strict";class t{constructor(t,e){this._storageKey=t,this._lastNotifiedKey=e;try{this._visitsForDay=JSON.parse(localStorage.getItem(this._storageKey))}catch(t){this._visitsForDay={}}null===this._visitsForDay&&(this._visitsForDay={}),this._storageKey,this._visitsForDay}persist(){localStorage.setItem(this._storageKey,JSON.stringify(this._visitsForDay))}countToday(){let t=(new Date).toISOString().slice(0,10);Object.prototype.hasOwnProperty.call(this._visitsForDay,t)||(this._visitsForDay[t]=0),this._visitsForDay[t]=this._visitsForDay[t]+1}prune(t){var e=new Date;e.setDate(e.getDate()-t);var i={};for(var s in this._visitsForDay)new Date(s)>=e&&(i[s]=this._visitsForDay[s]);this._visitsForDay=i}visits(){var t=0;for(var e in this._visitsForDay)t+=this._visitsForDay[e];return t}markNotified(){let t=new Date;localStorage.setItem(this._lastNotifiedKey,t.toISOString())}lastNotified(){return new Date(localStorage.getItem(this._lastNotifiedKey))}daysSinceLastNotified(){let t=new Date-this.lastNotified();return Math.floor(t/864e5)}}function e(t){let i=document.getElementsByClassName(t);0!==i.length?Array.from(i).forEach((t=>{t.hidden=!0})):setTimeout((()=>e(t)),100)}function i(t,e,i){ga("send",{hitType:"event",eventCategory:t,eventAction:e,eventValue:i})}var s;s=()=>{let s=new t("rprw","rprw-lastnotified");s.countToday(),s.prune(30),s.persist();let a=s.visits();a>=7&&(i("rprw","wouldshow",a),s.daysSinceLastNotified()>=0&&(s.markNotified(),$("#rprw").modal({backdrop:"static",keyboard:!1}),e("addthis-smartlayers"),e("drip-tab-container"),i("rprw","didshow",a)))},"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?s():document.addEventListener("DOMContentLoaded",s)})();